# Инструкция по деплою на Vercel

## Шаги для размещения сайта:

### 1. Подготовка
- Убедитесь, что ваш код загружен в GitHub репозиторий
- Все файлы должны быть в репозитории

### 2. Деплой на Vercel
1. Перейдите на [vercel.com](https://vercel.com)
2. Зарегистрируйтесь через GitHub
3. Нажмите "New Project"
4. Выберите ваш репозиторий
5. Vercel автоматически определит, что это Node.js проект
6. Нажмите "Deploy"

### 3. Настройка (опционально)
- В настройках проекта можно изменить домен
- Можно настроить автоматический деплой при push в GitHub

### 4. Результат
После деплоя вы получите URL вида: `https://your-project-name.vercel.app`

## Альтернативные варианты:

### Netlify (для статики)
Если хотите убрать серверную часть:
1. Удалите `server.js` и `vercel.json`
2. Переместите все файлы из `public/` в корень
3. Деплойте на Netlify

### GitHub Pages (только статика)
1. Создайте ветку `gh-pages`
2. Переместите файлы из `public/` в корень
3. Включите GitHub Pages в настройках репозитория

## Примечание
Текущая конфигурация с Vercel сохранит весь функционал, включая API endpoint для сбора данных navigator. 

# Инструкции по деплою на Vercel

## Проблема
При деплое на Vercel возникают ошибки MIME-типов для CSS и JavaScript файлов. Vercel возвращает HTML-страницу вместо правильных типов контента.

## Решение

### 1. Конфигурации Vercel
Доступны четыре варианта конфигурации:

#### Исправленная конфигурация (рекомендуется)
```bash
npm run deploy:fixed
```
- Статические файлы в корне проекта
- Явные MIME-типы
- Исправляет проблемы с папкой public/

#### Простая конфигурация
```bash
npm run deploy:simple
```
- Vercel автоматически определяет Node.js проект
- Минимальная конфигурация
- Использует настройки Project Settings

#### Серверная конфигурация
```bash
npm run deploy:server
```
- Явные маршруты для статических файлов
- Явные MIME-типы
- Полный контроль над маршрутизацией

#### Статическая конфигурация
```bash
npm run deploy:static
```
- Только статические файлы
- Без серверной части
- Автоматическое определение статики

### 2. Серверная конфигурация
В `server.js` добавлены:
- Явные маршруты для статических файлов
- Правильные заголовки Content-Type
- Поддержка файлов из корня проекта

### 3. Шаги деплоя

1. **Выберите конфигурацию:**
   ```bash
   # Исправленная (рекомендуется)
   npm run deploy:fixed
   
   # Или простая
   npm run deploy:simple
   
   # Или серверная
   npm run deploy:server
   
   # Или статическая
   npm run deploy:static
   ```

2. **Альтернативный способ через GitHub:**
   - Закоммитьте изменения в репозиторий
   - Vercel автоматически пересоберет проект

### 4. Проверка деплоя

После деплоя проверьте:
1. Открытие главной страницы
2. Загрузку CSS стилей (страница должна выглядеть красиво)
3. Работу JavaScript (должны загружаться данные браузера)
4. Консоль браузера (не должно быть ошибок MIME-типов)
5. Тестовую страницу: `https://your-domain.vercel.app/test-mime.html`

### 5. Возможные проблемы

Если проблемы остаются:
1. Очистите кэш Vercel: `vercel --clear-cache`
2. Проверьте, что файлы `styles.css` и `script.js` находятся в корне проекта
3. Убедитесь, что `vercel.json` находится в корне проекта
4. Попробуйте исправленную конфигурацию: `npm run config:fixed`

### 6. Альтернативные решения

#### Netlify (альтернативная платформа)
1. Создайте аккаунт на [netlify.com](https://netlify.com)
2. Перетащите папку `public/` в область деплоя
3. Получите URL для вашего сайта

#### GitHub Pages
1. Создайте ветку `gh-pages`
2. Скопируйте содержимое `public/` в корень
3. Включите GitHub Pages в настройках репозитория

### 7. Структура файлов для деплоя

```
web_demo/
├── public/
│   └── index.html          # Основная версия с серверными API
├── styles.css              # Стили (в корне)
├── script.js               # JavaScript (в корне)
├── test-mime.html          # Тестовая страница
├── server.js               # Сервер (только для полной версии)
├── vercel.json             # Текущая конфигурация Vercel
├── vercel-fixed.json       # Исправленная конфигурация
├── vercel-simple.json      # Простая конфигурация
├── vercel-static.json      # Статическая конфигурация
├── switch-config.js        # Скрипт переключения
└── package.json            # Зависимости
```

### 8. Проверка работоспособности

После деплоя проверьте:
- ✅ Страница загружается без ошибок
- ✅ Стили применяются корректно
- ✅ JavaScript работает
- ✅ Нет ошибок в консоли браузера
- ✅ Данные браузера собираются и отображаются
- ✅ Тестовая страница показывает правильные MIME-типы

### 9. Устранение предупреждений

Если появляется предупреждение о `builds`:
- Используйте простую конфигурацию: `npm run config:simple`
- Это позволит Vercel использовать автоматическое определение
- Настройки Project Settings будут применяться корректно

### 10. Тестирование MIME-типов

Откройте тестовую страницу для проверки MIME-типов:
```
https://your-domain.vercel.app/test-mime.html
```

Эта страница покажет:
- Правильность загрузки CSS файла
- Правильность загрузки JavaScript файла
- MIME-типы, которые возвращает сервер 